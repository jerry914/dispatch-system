(function(e){function n(n){for(var c,a,u=n[0],s=n[1],i=n[2],l=0,d=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c]);h&&h(n);while(d.length)d.shift()();return o.push.apply(o,i||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],c=!0,a=1;a<t.length;a++){var u=t[a];0!==r[u]&&(c=!1)}c&&(o.splice(n--,1),e=s(s.s=t[0]))}return e}var c={},a={app:0},r={app:0},o=[];function u(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-03516fa4":"9b7f7045","chunk-05074568":"a29a632a","chunk-13d82e5e":"39365b9c","chunk-21a38c0c":"973dae57","chunk-4cd9a090":"58c46297","chunk-5608bfe3":"9f9d56e8","chunk-76d76273":"37cce8e3","chunk-091fee35":"32402652","chunk-253d2310":"6b97a78c","chunk-3510c322":"1bc11d82","chunk-55ba4520":"77d308b5","chunk-b1ed94b4":"dd80cc5c","chunk-5e637942":"bbff07dd","chunk-76ec1784":"c79c69ac","chunk-abe9db4c":"1e52ce17","chunk-eedecf5c":"2c6bcec1"}[e]+".js"}function s(n){if(c[n])return c[n].exports;var t=c[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(e){var n=[],t={"chunk-03516fa4":1,"chunk-13d82e5e":1,"chunk-21a38c0c":1,"chunk-4cd9a090":1,"chunk-5608bfe3":1,"chunk-76d76273":1,"chunk-091fee35":1,"chunk-253d2310":1,"chunk-3510c322":1,"chunk-55ba4520":1,"chunk-5e637942":1,"chunk-76ec1784":1,"chunk-abe9db4c":1,"chunk-eedecf5c":1};a[e]?n.push(a[e]):0!==a[e]&&t[e]&&n.push(a[e]=new Promise((function(n,t){for(var c="css/"+({}[e]||e)+"."+{"chunk-03516fa4":"4a9233b2","chunk-05074568":"31d6cfe0","chunk-13d82e5e":"56f3ec1b","chunk-21a38c0c":"7e999a4a","chunk-4cd9a090":"feec6bfa","chunk-5608bfe3":"f3386da0","chunk-76d76273":"20762ab5","chunk-091fee35":"721d610d","chunk-253d2310":"f11c1f84","chunk-3510c322":"d63fcf5f","chunk-55ba4520":"719a3c00","chunk-b1ed94b4":"31d6cfe0","chunk-5e637942":"dcfb10b4","chunk-76ec1784":"e5d15692","chunk-abe9db4c":"691d4c9a","chunk-eedecf5c":"a6fb30d1"}[e]+".css",r=s.p+c,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var i=o[u],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===c||l===r))return n()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){i=d[u],l=i.getAttribute("data-href");if(l===c||l===r)return n()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=n,h.onerror=function(n){var c=n&&n.target&&n.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=c,delete a[e],h.parentNode.removeChild(h),t(o)},h.href=r;var b=document.getElementsByTagName("head")[0];b.appendChild(h)})).then((function(){a[e]=0})));var c=r[e];if(0!==c)if(c)n.push(c[2]);else{var o=new Promise((function(n,t){c=r[e]=[n,t]}));n.push(c[2]=o);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=u(e);var d=new Error;i=function(n){l.onerror=l.onload=null,clearTimeout(h);var t=r[e];if(0!==t){if(t){var c=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;d.message="Loading chunk "+e+" failed.\n("+c+": "+a+")",d.name="ChunkLoadError",d.type=c,d.request=a,t[1](d)}r[e]=void 0}};var h=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(n)},s.m=e,s.c=c,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var c in e)s.d(t,c,function(n){return e[n]}.bind(null,c));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="/dispatch-system/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=n,i=i.slice();for(var d=0;d<i.length;d++)n(i[d]);var h=l;o.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"56d7":function(e,n,t){"use strict";t.r(n);var c=t("3835"),a=(t("e260"),t("e6cf"),t("cca6"),t("a79d"),t("4fad"),t("7a23")),r={id:"app"};function o(e,n,t,c,o,u){var s=Object(a["T"])("myMenu"),i=Object(a["T"])("router-view"),l=Object(a["U"])("loading");return Object(a["K"])(),Object(a["m"])("div",r,[Object(a["r"])(s,{isLogin:o.isLogin},null,8,["isLogin"]),o.isRouterAlive?Object(a["kb"])((Object(a["K"])(),Object(a["k"])(i,{key:0},{default:Object(a["jb"])((function(e){var n=e.Component;return[Object(a["r"])(a["e"],{name:"fade"},{default:Object(a["jb"])((function(){return[(Object(a["K"])(),Object(a["k"])(Object(a["V"])(n)))]})),_:2},1024)]})),_:1})),[[l,"pending"==e.$store.state.status]]):Object(a["l"])("",!0)])}t("9911"),t("b0c0");var u={class:"myMenu"},s={id:"menuContainer"},i={class:"leftContainer"},l=Object(a["q"])("心路連線"),d={class:"rightContainer"},h={key:0},b=["onClick"];function f(e,n,t,c,r,o){var f=Object(a["T"])("router-link"),m=Object(a["T"])("Expand"),p=Object(a["T"])("el-icon"),k=Object(a["T"])("Close"),j=Object(a["T"])("el-drawer");return Object(a["K"])(),Object(a["m"])("div",u,[Object(a["n"])("div",s,[Object(a["n"])("div",i,[(Object(a["K"])(!0),Object(a["m"])(a["b"],null,Object(a["R"])(r.menuLeft,(function(e){return Object(a["K"])(),Object(a["k"])(f,{class:"menuItem",to:e.link},{default:Object(a["jb"])((function(){return[Object(a["q"])(Object(a["X"])(e.name),1)]})),_:2},1032,["to"])})),256))]),Object(a["r"])(f,{class:"middleContainer",to:"/"},{default:Object(a["jb"])((function(){return[l]})),_:1}),Object(a["n"])("div",d,[t.isLogin?(Object(a["K"])(),Object(a["m"])("div",h,[(Object(a["K"])(!0),Object(a["m"])(a["b"],null,Object(a["R"])(r.menuRight,(function(e){return Object(a["K"])(),Object(a["k"])(f,{class:"menuItem",to:e.link},{default:Object(a["jb"])((function(){return[Object(a["q"])(Object(a["X"])(e.name),1)]})),_:2},1032,["to"])})),256))])):Object(a["l"])("",!0),Object(a["r"])(p,{class:"userItem",size:20,color:"#4c2c06",onClick:n[0]||(n[0]=function(e){return r.drawer=!0})},{default:Object(a["jb"])((function(){return[Object(a["r"])(m)]})),_:1}),Object(a["r"])(j,{modelValue:r.drawer,"onUpdate:modelValue":n[4]||(n[4]=function(e){return r.drawer=e}),"with-header":!1,size:200},{default:Object(a["jb"])((function(){return[Object(a["r"])(p,{size:20,style:{margin:"20px",cursor:"pointer"},onClick:n[1]||(n[1]=function(e){return r.drawer=!1})},{default:Object(a["jb"])((function(){return[Object(a["r"])(k)]})),_:1}),t.isLogin?(Object(a["K"])(!0),Object(a["m"])(a["b"],{key:0},Object(a["R"])(r.drawerItem,(function(e){return Object(a["K"])(),Object(a["m"])("div",{class:"mydrawerItem",onClick:function(n){return o.changeRoute(e.link)}},Object(a["X"])(e.name),9,b)})),256)):Object(a["l"])("",!0),t.isLogin?Object(a["l"])("",!0):(Object(a["K"])(),Object(a["m"])("div",{key:1,class:"mydrawerItem",onClick:n[2]||(n[2]=function(e){return o.changeRoute("/login")})},"登入")),t.isLogin?(Object(a["K"])(),Object(a["m"])("div",{key:2,class:"mydrawerItem",onClick:n[3]||(n[3]=function(e){return o.logout()})},"登出")):Object(a["l"])("",!0)]})),_:1},8,["modelValue"])])])])}var m=t("7720"),p=t("7676"),k=t("852e"),j=t.n(k),O={components:{Expand:m["a"],Close:p["a"]},props:["isLogin"],data:function(){return{menuLeft:[{link:"/addCase",name:"輸入個案"},{link:"/listCases",name:"待派個案"},{link:"/result",name:"派案列表"},{link:"/listCounselor",name:"心理師班表"}],menuRight:[{link:"/assigning",name:"初排管理"},{link:"/manageCounselor/add",name:"心理師管理"}],drawerItem:[{link:"/listAllCases",name:"個案管理"},{link:"/holiday",name:"假期管理"},{link:"/semester_label",name:"學期標籤管理"}],drawer:!1,menuclassList:{menuIconContainer:!0,change:!1}}},mounted:function(){},methods:{logout:function(){j.a.remove("login"),this.$router.push("/login")},changeRoute:function(e){this.drawer=!1,this.$router.push(e)}}},g=(t("ef75"),t("d959")),v=t.n(g);const C=v()(O,[["render",f]]);var y=C,w={name:"Home",components:{myMenu:y},provide:function(){return{reload:this.reload}},data:function(){return{isLogin:!1,isRouterAlive:!0}},watch:{$route:function(){j.a.get("login")?this.isLogin=!0:this.isLogin=!1}},created:function(){j.a.get("login")&&(this.isLogin=!0)},methods:{reload:function(){var e=this;this.isRouterAlive=!1,this.$nextTick((function(){e.isRouterAlive=!0}))}}};t("b2fe");const S=v()(w,[["render",o]]);var A=S,E=t("c7eb"),_=t("1da1"),L=(t("d3b7"),t("3ca3"),t("ddb0"),t("6c02")),T=[{path:"/",name:"Home",meta:{requiresAuth:!1},component:function(){return t.e("chunk-55ba4520").then(t.bind(null,"bb51"))}},{path:"/login",name:"Login",meta:{requiresAuth:!1},component:function(){return t.e("chunk-253d2310").then(t.bind(null,"a55b"))}},{path:"/holiday",name:"holiday",meta:{requiresAuth:!0},component:function(){return t.e("chunk-3510c322").then(t.bind(null,"2a27"))}},{path:"/semester_label",name:"semester_label",meta:{requiresAuth:!0},component:function(){return t.e("chunk-eedecf5c").then(t.bind(null,"7dbd"))}},{path:"/addCase",name:"addCase",meta:{requiresAuth:!1},component:function(){return Promise.all([t.e("chunk-05074568"),t.e("chunk-21a38c0c")]).then(t.bind(null,"d6d3"))}},{path:"/modifyCase/:id",name:"modifyCase",meta:{requiresAuth:!1},component:function(){return Promise.all([t.e("chunk-05074568"),t.e("chunk-4cd9a090")]).then(t.bind(null,"72b1"))}},{path:"/modifyCounselor/:id",name:"modifyCounselor",meta:{requiresAuth:!1},component:function(){return Promise.all([t.e("chunk-05074568"),t.e("chunk-5608bfe3")]).then(t.bind(null,"5ed2"))}},{path:"/listCases",name:"listCases",meta:{requiresAuth:!1},component:function(){return t.e("chunk-091fee35").then(t.bind(null,"072d"))}},{path:"/listAllCases",name:"listAllCases",meta:{requiresAuth:!0},component:function(){return Promise.all([t.e("chunk-b1ed94b4"),t.e("chunk-5e637942")]).then(t.bind(null,"f20e"))}},{path:"/manageCounselor",name:"manageCounselor",component:function(){return t.e("chunk-03516fa4").then(t.bind(null,"53a6"))},meta:{requiresAuth:!0},children:[{path:"add",component:function(){return Promise.all([t.e("chunk-05074568"),t.e("chunk-13d82e5e")]).then(t.bind(null,"ac0e"))}},{path:"modify/:id",name:"modifyCounselor",component:function(){return Promise.all([t.e("chunk-05074568"),t.e("chunk-5608bfe3")]).then(t.bind(null,"5ed2"))}}]},{path:"/listCounselor",name:"listCounselor",meta:{requiresAuth:!1},component:function(){return Promise.all([t.e("chunk-05074568"),t.e("chunk-76d76273")]).then(t.bind(null,"340d"))}},{path:"/assigning",name:"assigning",meta:{requiresAuth:!0},component:function(){return Promise.all([t.e("chunk-b1ed94b4"),t.e("chunk-abe9db4c")]).then(t.bind(null,"d80f"))}},{path:"/result",name:"result",meta:{requiresAuth:!1},component:function(){return Promise.all([t.e("chunk-b1ed94b4"),t.e("chunk-76ec1784")]).then(t.bind(null,"4d36"))}}],x=Object(L["a"])({history:Object(L["b"])(),routes:T});x.beforeEach(function(){var e=Object(_["a"])(Object(E["a"])().mark((function e(n,t,c){var a,r;return Object(E["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("to: ",n),console.log("from: ",t),n.meta.requiresAuth?(a=j.a.get("login"),console.log(a),a?(r=JSON.parse(a).character,r.length>0||void 0===r?c():c({name:"Login"})):c({name:"Login"})):c();case 3:case"end":return e.stop()}}),e)})));return function(n,t,c){return e.apply(this,arguments)}}());var q=x,P=t("5502"),R=t("bc3a"),I=t.n(R),K=Object(P["a"])({state:{counselors:[],unassignCases:[],assignCases:[],cases:[],holiday:[],semester_label:[],status:"end"},mutations:{SET_COUNSELORS:function(e,n){e.counselors=n,console.log(e.counselors)},SET_CASE:function(e,n){e.cases=n.data,console.log(e.cases)},SET_UNASSIGNCASE:function(e,n){e.unassignCases=n,console.log(e.unassignCases)},SET_ASSIGNCASE:function(e,n){e.assignCases=n,console.log(e.assignCases)},SET_STATUS:function(e,n){e.status=n,console.log(n)},SET_HOLIDAY:function(e,n){e.holiday=n,console.log(e.holiday)},SET_SEMESTERLABEL:function(e,n){e.semester_label=n,console.log(e.semester_label)}},actions:{fetchSemesterLabel:function(e){return Object(_["a"])(Object(E["a"])().mark((function n(){var t;return Object(E["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I.a.get("/api/semester_label");case 3:t=n.sent,e.commit("SET_SEMESTERLABEL",t.data),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},fetchHoliday:function(e){return Object(_["a"])(Object(E["a"])().mark((function n(){var t;return Object(E["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I.a.get("/api/holiday");case 3:t=n.sent,e.commit("SET_HOLIDAY",t.data),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},fetchCounselors:function(e){return Object(_["a"])(Object(E["a"])().mark((function n(){var t;return Object(E["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I.a.get("/api/counselor");case 3:t=n.sent,e.commit("SET_COUNSELORS",t.data.data),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},fetchCases:function(e){return Object(_["a"])(Object(E["a"])().mark((function n(){var t;return Object(E["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I.a.get("/api/cases");case 3:t=n.sent,e.commit("SET_CASE",t.data),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},fetchUnassignCases:function(e){return Object(_["a"])(Object(E["a"])().mark((function n(){var t,c;return Object(E["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I.a.get("/api/cases",{params:{status:"unassign"}});case 3:t=n.sent,c=t.data.data,e.commit("SET_UNASSIGNCASE",c),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},fetchAssignCases:function(e){return Object(_["a"])(Object(E["a"])().mark((function n(){var t,c;return Object(E["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t=new Date,n.next=4,I.a.get("/api/cases",{params:{status:"assign",end_consultation_date:t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}});case 4:c=n.sent,e.commit("SET_ASSIGNCASE",c.data),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()}},modules:{}}),N=t("7864"),M=(t("7dd6"),function(e){e.use(N["a"])}),U=t("130e"),D=t("f6f2"),H=t("59fa"),B=Object(a["j"])(A);M(B),B.use(K).use(q).mount("#app"),I.a.defaults.baseURL="https://dispatch-system.herokuapp.com/",B.use(U["a"],I.a),B.component("downloadExcel",H["a"]);for(var $=0,G=Object.entries(D);$<G.length;$++){var V=Object(c["a"])(G[$],2),z=V[0],J=V[1];B.component(z,J)}},a378:function(e,n,t){},b2fe:function(e,n,t){"use strict";t("c320")},c320:function(e,n,t){},ef75:function(e,n,t){"use strict";t("a378")}});
//# sourceMappingURL=app.6d65ad6e.js.map