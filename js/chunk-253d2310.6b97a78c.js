(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-253d2310"],{"36e5":function(e,n,o){"use strict";o("93f4")},"93f4":function(e,n,o){},a55b:function(e,n,o){"use strict";o.r(n);var t=o("7a23"),r=function(e){return Object(t["N"])("data-v-4e21381e"),e=e(),Object(t["L"])(),e},i={class:"login-container"},a=r((function(){return Object(t["n"])("div",{class:"login-title"},"登入",-1)})),s={class:"login-btn-container"},c=Object(t["q"])("登入"),l=r((function(){return Object(t["n"])("strong",null,"訪客測試登入",-1)})),u=r((function(){return Object(t["n"])("div",null,"帳號：user",-1)})),d=r((function(){return Object(t["n"])("div",null,"密碼：test12345",-1)}));function m(e,n,o,r,m,g){var p=Object(t["T"])("el-input"),h=Object(t["T"])("el-button");return Object(t["K"])(),Object(t["m"])("div",i,[a,Object(t["r"])(p,{class:"login-input",modelValue:m.loginForm.username,"onUpdate:modelValue":n[0]||(n[0]=function(e){return m.loginForm.username=e}),type:"text",placeholder:"Username"},null,8,["modelValue"]),Object(t["r"])(p,{class:"login-input",modelValue:m.loginForm.password,"onUpdate:modelValue":n[1]||(n[1]=function(e){return m.loginForm.password=e}),type:"password",placeholder:"Password",onKeyup:Object(t["lb"])(g.handleLogin,["enter"])},null,8,["modelValue","onKeyup"]),Object(t["n"])("div",s,[Object(t["r"])(h,{type:"primary",onClick:g.handleLogin},{default:Object(t["jb"])((function(){return[c]})),_:1},8,["onClick"])]),l,u,d])}o("e9c4");var g=o("852e"),p=o.n(g),h={data:function(){return{loginForm:{username:"",password:"",token:""}}},created:function(){p.a.get("login")&&this.$router.push("addCase")},methods:{handleLogin:function(){this.$store.commit("SET_STATUS","pending");var e=this.loginForm.username,n=this.loginForm.password;""!==e&&""!==n?this.checkAuth():alert("帳號密碼不能為空")},checkAuth:function(){var e=this;this.$http.post("/api/user/login",{email:this.loginForm.username,password:this.loginForm.password}).then((function(n){console.log(n.data),e.loginForm.character="manager",p.a.set("login",JSON.stringify(e.loginForm),{expires:30}),e.$store.commit("SET_STATUS","end"),e.$router.push("addCase")})).catch((function(n){e.$message.error(n.response.data),e.$store.commit("SET_STATUS","end")}))},showCookie:function(){console.log(p.a.get())},removeCookie:function(){p.a.remove("login"),console.log(p.a.get())}}},f=(o("36e5"),o("d959")),b=o.n(f);const j=b()(h,[["render",m],["__scopeId","data-v-4e21381e"]]);n["default"]=j}}]);
//# sourceMappingURL=chunk-253d2310.6b97a78c.js.map